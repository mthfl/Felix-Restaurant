<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Descubra o encanto e a excelência gastronômica do Restaurante Felix, um ícone da alta culinária em Fortaleza.">
    <meta name="keywords" content="Restaurante Felix, Gastronomia, Fortaleza, Eventos, Cardápio">
    <meta name="author" content="Matheus Felix, Kauan Cristian">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="./assets/color.js"></script>
    <link rel="stylesheet" href="../assets/theme/style.css">
    <script src="https://cdn.tailwindcss.com"></script>
   <link rel="shortcut icon" href="../assets/img/icon.svg" type="image/svg">
    <title>Detalhes do Produto</title>
</head>
<style>
    body {
        font-family: sans-serif;
    }
</style>
<script>
    tailwind.config = {
        theme: {
            extend: {
                colors: {
                    'ceara-golden': '#8C5C03',
                    'ceara-yellow': '#D9961A',
                    'ceara-brown': '#A65A3F',
                    'ceara-gray': '#404040',
                    'ceara-black': '#0D0D0D',
                }
            },
        },
    };
</script>

<body class="select-none">

    <header class="my-4 mx-auto flex flex-col items-center w-full px-4 md:px-0">
        <div class="flex space-x-4 md:space-x-8 items-center">
            <a href="../index.html">
                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none"
                    stroke="#0D0D0D" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="15 18 9 12 15 6"></polyline>
                </svg>
            </a>
            <h3 class="text-lg md:text-xl">Detalhes do produto</h3>
        </div>
        <div class="w-full flex justify-center">
            <hr class="w-full max-w-[700px] h-[2px] bg-[#EBEBEB] my-4">
        </div>
    </header>

    <section class="px-4 md:px-0">
        <div class="flex flex-col md:flex-row justify-center items-center md:items-start gap-6 my-6">
            <img class="w-[180px] h-[180px] md:w-[220px] md:h-[220px] rounded-3xl object-cover"
                src="../assets/img/prato-4.jpg" alt="Cordeiro">
            <div class="text-center md:text-left">
                <h1 class="text-xl md:text-2xl my-2 font-semibold">Risoto de Funghi Selvatici</h1>
                <h2 class="text-lg md:text-xl my-2 text-[#5a5a5a] font-semibold">R$ 400,90</h2>
                <h3 class="max-w-[300px] text-[#606060]">Risoto cremoso preparado com uma seleção de cogumelos
                    silvestres, resultando em uma experiência gastronômica sofisticada e vegetariana.</h3>
            </div>
        </div>
    </section>


    <div class="flex justify-center items-center px-4">
        <div class="relative w-full max-w-[700px]">
            <input
                class="w-full h-10 bg-[#EBEBEB] focus:outline-none focus:border-ceara-yellow focus:border-2 rounded-xl pl-10"
                type="text" placeholder="Pesquise pelo nome">
            <i class="fas fa-search text-gray-500 absolute left-3 top-2.5"></i>
        </div>
    </div>


   
    <div class="flex justify-center items-center my-4 px-4">
        <div class="w-full max-w-[800px] bg-[#EBEBEB] rounded-xl p-4 md:p-5">
            <div class="flex justify-between items-center cursor-pointer" id="toggle-dropdown-guarnicao">
                <div>
                    <h2 class="text-base md:text-lg font-bold">Adicione guarnições</h2>
                    <h4 class="text-xs md:text-sm text-[#333] font-thin">Escolha 1 item</h4>
                </div>
                <i class="fas fa-chevron-right rotate-[270deg] transition-transform duration-300"></i>
            </div>
            <div class="mt-4 hidden" id="dropdown-content-guarnicao">
                <div class="flex items-center justify-between py-2 rounded-md cursor-pointer">
                    <div class="items-center">
                        <span class="text-sm md:text-base">Purê de Batata Doce</span>
                        <span class="text-xs md:text-sm text-[#333] ml-2 flex">R$ 40,00</span>
                    </div>
                    <input type="radio" name="guarnicao" class="rounded-full" />
                </div>
                <div class="flex items-center justify-between py-2 rounded-md cursor-pointer">
                    <div class="items-center">
                        <span class="text-sm md:text-base">Legumes Grelhados</span>
                        <span class="text-xs md:text-sm text-[#333] ml-2 flex">R$ 30,00</span>
                    </div>
                    <input type="radio" name="guarnicao" class="rounded-full" />
                </div>
                <div class="flex items-center justify-between py-2 rounded-md cursor-pointer">
                    <div class="items-center">
                        <span class="text-sm md:text-base">Batatas Rústicas com Alecrim</span>
                        <span class="text-xs md:text-sm text-[#333] ml-2 flex">R$ 50,00</span>
                    </div>
                    <input type="radio" name="guarnicao" class="rounded-full" />
                </div>
                <div class="flex items-center justify-between py-2 rounded-md cursor-pointer">
                    <div class="items-center">
                        <span class="text-sm md:text-base">Salada de Folhas Verdes com Vinagrete</span>
                        <span class="text-xs md:text-sm text-[#333] ml-2 flex">R$ 60,00</span>
                    </div>
                    <input type="radio" name="guarnicao" class="rounded-full" />
                </div>
            </div>
        </div>
    </div>


    <div class="flex justify-center items-center my-4 px-4">
        <div class="w-full max-w-[800px] bg-[#EBEBEB] rounded-xl p-4 md:p-5">
            <div class="flex justify-between items-center cursor-pointer" id="toggle-dropdown-bebidas">
                <div>
                    <h2 class="text-base md:text-lg font-bold">Adicione bebidas</h2>
                    <h4 class="text-xs md:text-sm text-[#333] font-thin">Escolha até 3 itens</h4>
                </div>
                <i class="fas fa-chevron-right rotate-[270deg] transition-transform duration-300"></i>
            </div>
            <div class="mt-4 hidden" id="dropdown-content-bebidas">
                <div class="flex items-center justify-between py-2 rounded-md cursor-pointer">
                    <div class="items-center">
                        <span class="text-sm md:text-base">Coca-Cola</span>
                        <span class="text-xs md:text-sm text-[#333] ml-2 flex">R$ 20,00</span>
                    </div>
                    <input type="checkbox" class="rounded-full" />
                </div>
                <div class="flex items-center justify-between py-2 rounded-md cursor-pointer">
                    <div class="items-center">
                        <span class="text-sm md:text-base">Vinho Tinto</span>
                        <span class="text-xs md:text-sm text-[#333] ml-2 flex">R$ 720,00</span>
                    </div>
                    <input type="checkbox" class="rounded-full" />
                </div>
                <div class="flex items-center justify-between py-2 rounded-md cursor-pointer">
                    <div class="items-center">
                        <span class="text-sm md:text-base">Champanhe</span>
                        <span class="text-xs md:text-sm text-[#333] ml-2 flex">R$ 500,00</span>
                    </div>
                    <input type="checkbox" class="rounded-full" />
                </div>
                <div class="flex items-center justify-between py-2 rounded-md cursor-pointer">
                    <div class="items-center">
                        <span class="text-sm md:text-base">Água Mineral</span>
                        <span class="text-xs md:text-sm text-[#333] ml-2 flex">R$ 20,00</span>
                    </div>
                    <input type="checkbox" class="rounded-full" />
                </div>
                <div class="flex items-center justify-between py-2 rounded-md cursor-pointer">
                    <div class="items-center">
                        <span class="text-sm md:text-base">Suco Natural</span>
                        <span class="text-xs md:text-sm text-[#333] ml-2 flex">R$ 17,00</span>
                    </div>
                    <input type="checkbox" class="rounded-full" />
                </div>
            </div>
        </div>
    </div>


    <div class="flex justify-center items-center my-4 px-4">
        <div class="w-full max-w-[800px] bg-[#EBEBEB] rounded-xl p-4 md:p-5">
            <h2 class="text-base md:text-lg">Observação</h2>
        </div>
    </div>
    <div class="flex justify-center items-center px-4">
        <textarea
            class="w-full max-w-[700px] h-[150px] mt-2 border-2 border-gray-300 rounded-lg p-4 focus:outline-none focus:border-ceara-yellow placeholder-gray-400"
            placeholder="Ex: Remover algum ingrediente"></textarea>
    </div>


    <div class="flex justify-center items-center my-8 px-4">
        <a id="finalizarCompraBtn" class="w-full max-w-[300px] text-center border-4 border-ceara-yellow bg-white text-black p-2 rounded-xl font-bold flex items-center justify-center transition duration-300 ease-in-out hover:bg-ceara-yellow hover:text-ceara-black hover:border-ceara-yellow">
            <i class="fas fa-credit-card mr-2"></i> 
            Finalizar Compra
        </a>   
    </div>
  

    <script>
       document.addEventListener('DOMContentLoaded', function() {
          const toggleDropdownGuarnicao = document.getElementById('toggle-dropdown-guarnicao');
          const dropdownContentGuarnicao = document.getElementById('dropdown-content-guarnicao');
          const toggleDropdownBebidas = document.getElementById('toggle-dropdown-bebidas');
          const dropdownContentBebidas = document.getElementById('dropdown-content-bebidas');
          const observationTextarea = document.querySelector('textarea');
          const finalizarCompraBtn = document.getElementById('finalizarCompraBtn');

          toggleDropdownGuarnicao.addEventListener('click', () => {
              dropdownContentGuarnicao.classList.toggle('hidden');
              toggleDropdownGuarnicao.querySelector('i').classList.toggle('rotate-[90deg]');
          });
          
          toggleDropdownBebidas.addEventListener('click', () => {
              dropdownContentBebidas.classList.toggle('hidden');
              toggleDropdownBebidas.querySelector('i').classList.toggle('rotate-[90deg]');
          });

          const checkboxes = document.querySelectorAll('input[type="checkbox"]');
          checkboxes.forEach((checkbox) => {
              checkbox.addEventListener('change', () => {
                  const checkedCount = Array.from(checkboxes).filter(i => i.checked).length;

                  if (checkedCount > 3) {
                      checkbox.checked = false;
                      alert("Você pode escolher até 3 itens.");
                  }
              });
          });

          finalizarCompraBtn.addEventListener('click', function(e) {
              e.preventDefault();
              
              const orderDetails = getSelectedItems();
              
              if (!orderDetails.garnish) {
                  alert('Por favor, selecione uma guarnição antes de continuar.');
                  return;
              }

              localStorage.setItem('currentOrder', JSON.stringify(orderDetails));
              window.location.href = './buy.html'; // Redireciona para a página de finalização
          });
          function getSelectedItems() {
    const mainDish = {
        name: document.querySelector('h1').textContent,
        price: parseFloat(document.querySelector('h2').textContent.replace('R$ ', '').replace(',', '.'))
    };

    const selectedGarnishRadio = document.querySelector('input[name="guarnicao"]:checked');
    const garnish = selectedGarnishRadio ? {
        name: selectedGarnishRadio.closest('.flex').querySelector('span:first-child').textContent,
        price: parseFloat(selectedGarnishRadio.closest('.flex').querySelector('span.text-xs').textContent.replace('R$ ', '').replace(',', '.'))
    } : null;

    const selectedBeverages = Array.from(document.querySelectorAll('#dropdown-content-bebidas input[type="checkbox"]:checked'))
        .map(checkbox => ({
            name: checkbox.closest('.flex').querySelector('span:first-child').textContent,
            price: parseFloat(checkbox.closest('.flex').querySelector('span.text-xs').textContent.replace('R$ ', '').replace(',', '.'))
        }));

    const observation = observationTextarea.value.trim();

    return {
        mainDish,
        garnish,
        beverages: selectedBeverages,
        observation,
        deliveryFee: 10.00 // Taxa de entrega
    };
}
      });
    </script>
</body>

</html>